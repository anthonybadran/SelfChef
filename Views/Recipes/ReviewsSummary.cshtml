@model SelfChef.Models.Recipes
@using Microsoft.AspNetCore.Identity
@using SelfChef.Data
@inject SignInManager<ApplicationUser> SignInManager
@inject UserManager<ApplicationUser> UserManager
@{ Layout = null; }

@if (SignInManager.IsSignedIn(User))
{
    <a href="javascript:showInPopup('@Url.Action("AddOrEdit","Reviews", new {recipe=Model.RecipeID}, Context.Request.Scheme)','Add Review')">
        <ul class="rating-stars list-unstyled">
            <li>
                @for (int j = 0; j < ViewBag.avgRatings; j++)
                {
                    <i class="icofont-star text-warning"></i>
                }
                @for (int j = 0; j < (5 - ViewBag.avgRatings); j++)
                {
                    <i class="icofont-star"></i>
                }
            </li>
        </ul>
    </a>
}
else
{
    <ul class="rating-stars list-unstyled">
        <li>
            @for (int j = 0; j < ViewBag.avgRatings; j++)
            {
                <i class="icofont-star text-warning"></i>
            }
            @for (int j = 0; j < (5 - ViewBag.avgRatings); j++)
            {
                <i class="icofont-star"></i>
            }
        </li>
    </ul>
}
@if (ViewBag.sumReviews > 1)
{
    <p class="label-rating text-muted ml-2 small">
        (@ViewBag.sumReviews Reviews)
    </p>
}
else
{
    <p class="label-rating text-muted ml-2 small">
        (@ViewBag.sumReviews Review)
    </p>
}
